@using CommonBasicLibraries.CollectionClasses;
@using gg1 = ClueBoardGame.Core.Logic.GameBoardGraphicsCP;
@using p1 = BasicGameFrameworkLibrary.Core.GameboardPositionHelpers.PositionPieces;
@{
    int x = 0;
    BasicList<WeaponInfo> weaponList;
    BasicList<CharacterInfo> characterList;
    SizeF spaceSize = new SizeF(gg1.SpaceSize, gg1.SpaceSize);
}
@foreach (var room in GraphicsData!.GameContainer!.RoomList.Values)
{
    x++;
    if (room.Space == null)
    {
        return; //try this way.  did it before and somehow worked (?)
    }
    weaponList = GraphicsData.GameContainer.WeaponsInRoom(x);
    characterList = GraphicsData.GameContainer.CharactersInRoom(x);
    p1.ClearArea(room.Space);
    <RoomWeaponGraphics GraphicsData="GraphicsData" Room="room" Weapons="weaponList" />
    <RoomCharacterGraphics GraphicsData="GraphicsData" Room="room" Characters="characterList" SpaceSize="spaceSize" />
}